{% extends 'layouts/box.html' %}

{% block content %}

<h1 class="mb-8">Configurations du Compte</h1>

<table class="w-full text-sm text-left dark:text-gray-500">
    <tbody>
        <tr>
            <th scope="row" class="pt-4 pb-1 text-base font-bold text-gray-900">
                Addresse Email
            </th>
            <td id="email-address" class="pt-4 pb-1 px-6">
                {% if user.email %}{{ user.email }}{% else %}Pas d'Email{% endif %}
            </td>
            <td class="pt-4 pb-1 px-6">
                <a id="email-edit" class="font-medium text-blue-600 hover:underline" hx-get="{% url 'profile-emailchange' %}" hx-target="#email-address" hx-swap="innerHTML" >
                    Modifier
                </a>
            </td>
        </tr>
        <tr class="border-b">
            <th scope="row" class="pb-4 font-medium text-gray-900">  
            </th>
            <td class="px-6 pb-4">
                {% if user.emailaddress_set.first.verified %}
                <span class="text-green-500">Verifié</span>{% else %}
                <span class="text-amber-500">Non verifié</span>
                {% endif %}
            </td>
            <td class="px-6 pb-4">
                <a href="{% url 'profile-emailverify' %}" class="font-medium text-blue-600 hover:underline">
                    {% if not user.emailaddress_set.first.verified %}Verifié{% endif %}
                </a>
            </td>
        </tr>

        <tr class="border-b">
            <th scope="row" class="py-4 text-base font-bold text-gray-900">
                Nom d'Utilisateur
            </th>
            <td id="username" class="py-4 pl-4">
                {{ user.username }}
            </td>
            <td class="py-4 pl-4">
                <a id="username-edit" class="cursor-pointer font-medium text-blue-600 hover:underline"
                    hx-get="{% url 'profile-usernamechange' %}"
                    hx-target="#username"
                    hx-swap="innerHTML" >
                    Modifier
                </a>
            </td>
        </tr>

        <tr class="border-b">
            <th scope="row" class="py-4 text-base font-bold text-gray-900">
                Supprimer le Compte
            </th>
            <td class="px-6 py-4">
                Une fois le compte supprimé, il est impossible de revenir en arrière.
            </td>
            <td class="px-6 py-4">
                <a href="{% url 'profile-delete' %}" class="font-medium text-red-600 hover:underline">
                    Supprimer
                </a>
            </td>
        </tr>
    </tbody>
</table>


{% endblock %}
